<div class="row">
    <div class="col-md-6 mb-3">
        <label for="name" class="form-label">Nama Produk</label>
        <input type="text" name="name" id="name" class="form-control" value="<%= item.name || oldInput.name || '' %>" required>
    </div>
    <div class="col-md-6 mb-3">
        <label for="brand" class="form-label">Brand</label>
        <input type="text" name="brand" id="brand" class="form-control" value="<%= item.brand || oldInput.brand || '' %>" required>
    </div>
</div>

<div class="row">
    <div class="col-md-4 mb-3">
        <label for="category" class="form-label">Kategori</label>
        <select name="category" id="category" class="form-select" required>
            <option value="" disabled <%= !item.category ? 'selected' : '' %>>-- Pilih Kategori --</option>
            <% categories.forEach(cat => { %>
                <option value="<%= cat %>" <%= (item.category === cat || oldInput.category === cat) ? 'selected' : '' %>><%= cat %></option>
            <% }) %>
        </select>
    </div>
    <div class="col-md-4 mb-3">
        <label for="price" class="form-label">Harga</label>
        <input type="number" name="price" id="price" class="form-control" value="<%= item.price || oldInput.price || '' %>" required>
    </div>
    <div class="col-md-4 mb-3">
        <label for="stock" class="form-label">Stok</label>
        <input type="text" name="stock" id="stock" class="form-control" placeholder="Contoh: 15, Tersedia, Pre-Order" value="<%= item.stock || oldInput.stock || '' %>" required>
    </div>
</div>

<div class="mb-3">
    <label for="specs" class="form-label">Spesifikasi (Satu per Baris)</label>
    <textarea name="specs" id="specs" class="form-control" rows="5" required><%= (item.specs && item.specs.join('\n')) || oldInput.specs || '' %></textarea>
</div>
<hr>
<% if (item.image) { %>
    <div class="mb-3">
        <p><strong>Gambar Saat Ini:</strong></p>
        <img src="<%= item.image %>" alt="Current Image" style="max-width: 200px; border-radius: 8px;">
    </div>
<% } %>

<div class="mb-3">
    <label for="image_upload" class="form-label">Upload Gambar Baru</label>
    <input type="file" name="image_upload" class="form-control" accept="image/*">
</div>
<div class="mb-3">
    <label for="image" class="form-label">Atau Gunakan URL Gambar</label>
    <input type="text" name="image" id="image" class="form-control" placeholder="Kosongkan jika upload file" value="<%= !item.image?.startsWith('/uploads') ? (item.image || '') : '' %>">
    <small class="form-text text-muted">Isi salah satu, upload akan diprioritaskan. <%= item.id ? 'Kosongkan keduanya jika tidak ingin mengubah gambar.' : '' %></small>
</div>